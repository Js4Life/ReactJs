PREFIX mpb-root-main: <http://www.mindparabole.com/ontology/finance/MPBRoot_Main#> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> 
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX cit:<http://www.mindparabole.com/ontology/finance/Bank_Main#>
PREFIX CDE:<http://www.mindparabole.com/ontology/finance/CDE/CriticalDataElements#>
PREFIX mt:<http://www.mindparabole.com/meeting#>
PREFIX pb:<http://www.mindparabole.com/ontology/finance/Parabole-Model#>
PREFIX mpb-fin-main-ccar-14q:<http://www.mindparabole.com/ontology/finance/FRY-14Q_Main#>
PREFIX mpb-root-main-crm:<http://www.mindparabole.com/ontology/finance/CreditRiskManagement_Main#>
PREFIX mpb-fin-main-ccar:<http://www.mindparabole.com/ontology/finance/CCAR_Main#>
PREFIX Y14DB_Main:<http://www.mindparabole.com/ontology/finance/Y14DB_Main#>
PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>
SELECT ?Functional_Area (SUM(?P1) AS ?CCRR)(SUM(?P2) AS ?Credit_Risk)
(SUM(?P3) AS ?Tax)(SUM(?P4) AS ?Liquidity)
(SUM(?P5) AS ?Reg_Reporting)(SUM(?P6) AS ?FRY_9C)
(SUM(?P7) AS ?14Q_H1)(SUM(?P8) AS ?14Q_H2)
WHERE{

{SELECT ?project ?Functional_Area (COUNT(?person) AS ?num)
WHERE{
?project rdf:type CDE:Projects.
?project rdfs:label ?Project_Label.
?project pb:Initiative_has_Functional_Area ?FA.
?FA rdfs:label ?Functional_Area.
?person pb:has_Functional_Area  ?FA.
}
GROUP BY ?project ?Functional_Area}
BIND(IF(?project = cit:CCRR,?num,0) AS ?P1)
BIND(IF(?project = cit:Credit_Risk,?num,0) AS ?P2)
BIND(IF(?project = cit:Tax,?num,0) AS ?P3)
BIND(IF(?project = cit:Liquidity,?num,0) AS ?P4)
BIND(IF(?project = cit:Reg_Reporting,?num,0) AS ?P5)
BIND(IF(?project = cit:FR_Y9C,?num,0) AS ?P6)
BIND(IF(?project = cit:14Q_H1,?num,0) AS ?P7)
BIND(IF(?project = cit:14Q_H2,?num,0) AS ?P8)}
GROUP BY ?Functional_Area
-------------------------------------------------------------------
-- DATABASE CREATE: CORAL (APPLICATION CONFIGURATION DB)
-------------------------------------------------------------------
SET ignoreErrors true
DROP DATABASE remote:localhost/finance-starfish root BFE376F0EBA538288064DBE92F0A56B6ED154B619187FA9AB16D1B3A16DB1D4F;
SET ignoreErrors false
CREATE DATABASE remote:localhost/finance-starfish root BFE376F0EBA538288064DBE92F0A56B6ED154B619187FA9AB16D1B3A16DB1D4F plocal document;
-------------------------------------------------------------------
-- TRANSACTION START
-------------------------------------------------------------------
DECLARE INTENT massiveinsert;
BEGIN;

-------------------------------------------------------------------
-- SCHEMA: APP_QUESTIONS
-------------------------------------------------------------------
CREATE CLASS APP_QUESTIONS;
CREATE PROPERTY APP_QUESTIONS.QUESTION_ID STRING;
CREATE PROPERTY APP_QUESTIONS.TEXT STRING;
CREATE PROPERTY APP_QUESTIONS.IS_MANDATORY BOOLEAN;
CREATE PROPERTY APP_QUESTIONS.PARAGRAPH STRING;
----------------------------------------------------------
ALTER PROPERTY APP_QUESTIONS.QUESTION_ID MANDATORY true;
ALTER PROPERTY APP_QUESTIONS.TEXT MANDATORY true;
ALTER PROPERTY APP_QUESTIONS.IS_MANDATORY MANDATORY true;
ALTER PROPERTY APP_QUESTIONS.PARAGRAPH NOTNULL true;
----------------------------------------------------------
CREATE INDEX APP_QUESTIONS.QUESTION_ID UNIQUE;


-------------------------------------------------------------------
-- SCHEMA: APP_PARAGRAPHS
-------------------------------------------------------------------
CREATE CLASS APP_PARAGRAPHS;
CREATE PROPERTY APP_PARAGRAPHS.PARAGRAPH_ID STRING;
CREATE PROPERTY APP_PARAGRAPHS.QUESTION_ID STRING;
CREATE PROPERTY APP_PARAGRAPHS.TEXT STRING;
----------------------------------------------------------
ALTER PROPERTY APP_PARAGRAPHS.PARAGRAPH_ID MANDATORY true;
ALTER PROPERTY APP_PARAGRAPHS.TEXT MANDATORY true;
----------------------------------------------------------
CREATE INDEX APP_PARAGRAPHS.PARAGRAPH_ID UNIQUE;
CREATE LINK PARAGRAPHS TYPE LINKSET FROM APP_PARAGRAPHS.QUESTION_ID TO APP_QUESTIONS.QUESTION_ID INVERSE




-------------------------------------------------------------------
-- SCHEMA: APP_TAG_ELEMENTS
-------------------------------------------------------------------
CREATE CLASS APP_TAG_ELEMENTS;
CREATE PROPERTY APP_TAG_ELEMENTS.TAG_ELEMENT_ID STRING;
CREATE PROPERTY APP_TAG_ELEMENTS.QUESTION_ID STRING;
CREATE PROPERTY APP_TAG_ELEMENTS.TEXT STRING;
----------------------------------------------------------
ALTER PROPERTY APP_TAG_ELEMENTS.TAG_ELEMENT_ID MANDATORY true;
ALTER PROPERTY APP_TAG_ELEMENTS.TEXT MANDATORY true;
----------------------------------------------------------
CREATE INDEX APP_TAG_ELEMENTS.TAG_ELEMENT_ID UNIQUE;
CREATE LINK TAGS TYPE LINKSET FROM APP_TAG_ELEMENTS.QUESTION_ID TO APP_QUESTIONS.QUESTION_ID INVERSE



-------------------------------------------------------------------
-- SCHEMA: APP_COMPONENTS
-------------------------------------------------------------------
CREATE CLASS APP_COMPONENTS;
CREATE PROPERTY APP_COMPONENTS.COMPONENT_ID STRING;
CREATE PROPERTY APP_COMPONENTS.PARAGRAPH_ID STRING;
CREATE PROPERTY APP_COMPONENTS.TEXT STRING;
CREATE PROPERTY APP_COMPONENTS.CONCEPTS STRING;
----------------------------------------------------------
ALTER PROPERTY APP_COMPONENTS.COMPONENT_ID MANDATORY true;
ALTER PROPERTY APP_COMPONENTS.TEXT MANDATORY true;
ALTER PROPERTY APP_COMPONENTS.CONCEPTS MANDATORY true;
----------------------------------------------------------
CREATE INDEX APP_COMPONENTS.COMPONENT_ID UNIQUE;
----------------------------------------------------------
CREATE LINK APP_COMPONENTS TYPE LINKSET FROM APP_COMPONENTS.PARAGRAPH_ID TO APP_PARAGRAPHS.PARAGRAPH_ID INVERSE



-------------------------------------------------------------------
-- TRANSACTION END
-------------------------------------------------------------------
COMMIT;
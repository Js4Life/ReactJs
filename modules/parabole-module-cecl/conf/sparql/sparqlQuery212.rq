PREFIX pb:<http://www.mindparabole.com/ontology/finance/Parabole-Model#>
PREFIX pnc:<http://mindparabole.com/finance/pnc_cecl#>
PREFIX cst:<http://mindparabole.com/finance/cecl_structure#>
PREFIX owl: <http://www.w3.org/2002/07/owl#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
PREFIX bas: <http://mindparabole.com/finance/basel_glossary#>
PREFIX hp: <http://mindparabole.com/finance/parabole#>

SELECT DISTINCT ?val ?concept ?Area ?Type ?Typename ?id
WHERE {
?Type2 rdfs:subClassOf ?class;rdfs:label ?Typename.
?class owl:allValuesFrom|owl:someValuesFrom ?val; owl:onProperty ?prop.
FILTER(!bound(?val) = false)
OPTIONAL{?val owl:oneOf/rdf:rest*/rdf:first  ?concept.}
?concept rdfs:label ?con.
FILTER(?prop = hp:hasConcept)
OPTIONAL{?Type2 ^rdfs:subClassOf ?Type3.}
BIND(IF(!bound(?Type3)=true,?Type2,?Type3) AS ?Type)
?Type2 rdfs:subClassOf+ ?Super
FILTER(?Super IN(hp:Policy,hp:Report,hp:Model))
BIND(IF(?Super = hp:Report,xsd:string("Report Type"),IF(?Super = hp:Model,xsd:string("Model Type"),xsd:string("Policy Type"))) AS ?Area)
bind(rand() AS ?id)
FILTER((?Type =hp:CommercialBusinessPolicy)||(?Type = hp:IntegratedRiskManagementPolicy)||(?Type=hp:CreditCardLoanLGDModel)||(?Type=hp:CashFlowModel))
}
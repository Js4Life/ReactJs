<div class="zero-padding" ng-class="collapseClasses.center" style="cursor:hand;height:76vh;overflow: auto;">
  <ol class="breadcrumb" ng-if="breads.length > 0">
    <li class="pointer" ng-repeat="bread in breads" ng-click="onBreadClick(bread)" onmouseover='this.style.color="blue"' onmouseout='this.style.color="black"'>{{bread.name}}</li>
    <div class="btn-group btn-group-xs pull-right" data-toggle="buttons">
      <label class="btn btn-primary" ng-click="setColorCode('all')">
        <input type="radio" name="options" id="option1" autocomplete="off"> All
      </label>
      <label class="btn btn-danger" ng-click="setColorCode('red')">
        <input type="radio" name="options" id="option1" autocomplete="off"> <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
      </label>
      <label class="btn btn-warning" ng-click="setColorCode('amber')">
        <input type="radio" name="options" id="option2" autocomplete="off"> <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
      </label>
      <label class="btn btn-success" ng-click="setColorCode('green')">
        <input type="radio" name="options" id="option3" autocomplete="off"> <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
      </label>
      <label class="btn btn-default" ng-click="setColorCode('gray')">
        <input type="radio" name="options" id="option3" autocomplete="off"> <i class="fa fa-dot-circle-o" aria-hidden="true"></i>
      </label>
    </div>
  </ol>
  <div ng-if="isGridView">
    <div ng-if="currentColorCode === child.colorCode || currentColorCode === 'all'" class="col-md-2" ng-repeat="child in childNodes | orderBy : 'name' | filter: searchText" index="{{$index}}">
      <div class="panel panel-default" style="box-shadow: 1px 2px 7px #d8d8d8;">
        <div class="panel-body text-center zero-padding" ng-class="getComplianceColorcode(child)">
          <div style="font-weight: bold;font-size: 2.5em;opacity:0.4;">{{child.name.charAt(0)}}</div>
          <div class="pointer" style="position:absolute;right:20px;top:5px;font-weight: bold;" ng-click="getChecklistByNode(child)">{{child.compliance || 0}}%</div>
        </div>
        <div ng-click="exploreNode(child.type, child.elementID)" class="panel-footer ellipsis-text pointer" tooltip='"title":"{{child.name}}"'>{{child.name}}</div>
      </div>
    </div>
  </div>
  <table ng-if="!isGridView" class="table table-condensed">
    <thead>
      <th>Status</th><th>{{breads[breads.length-1].name}}</th><th>Compliance</th><th></th>
    </thead>
    <tbody>
      <tr ng-if="currentColorCode === child.colorCode || currentColorCode === 'all'" ng-repeat="child in childNodes | orderBy : 'name' | filter: searchText" index="{{$index}}">
        <td><i class="fa fa-circle" aria-hidden="true" ng-class="getComplianceColorcode(child)"></i></td>
        <td>{{child.name}}</td>
        <td class="pointer" ng-click="getChecklistByNode(child)">{{child.compliance || 0}}%</td>
        <td><i class="fa fa-eye" aria-hidden="true" ng-click="exploreNode(child.type, child.elementID)"></i></td>
      </tr>
    </tbody>
  </table>
</div>

<div class="modal fade" id="checklistModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">{{currentNode.name}}</h4>
      </div>
      <div class="modal-body zero-padding-bottom" style="height: 66vh; overflow: auto;">
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="c in checkList">
            <input type="checkbox" ng-model="answers[c.id]" style="position: relative;top: 2px;"/>&nbsp;{{c.bodyText}}
          </li>
        </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-default" ng-click="viewChecklistDetails()">Details</button>
        <button type="button" class="btn btn-default" ng-click="saveAnswers()">Save</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade bs-example-modal-lg" id="checklistDetailsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" style="width:92%;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">{{currentNode.name}}</h4>
      </div>
      <div class="modal-body zero-padding-bottom">
        <div ui-grid="gridOptions" ui-grid-exporter style="height:65vh;"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-default" ng-click="exportCsv()">CSV</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade bs-example-modal-lg" id="dsViewer" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" style="width:92%;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">{{currentNode.name}}&nbsp({{currentNode.type}})</h4>
        <i ng-click="getGraph()" class="fa pull-right" ng-class="{'fa-th-large':showGraph, 'fa-sitemap':!showGraph}" aria-hidden="true" style="margin: -22px 30px;"></i>
        @*<i class="fa fa-paragraph pull-right" aria-hidden="true" ng-click="goChecklistBuilder()" style="margin: -22px 60px;"></i>*@
      </div>
      <div class="modal-body" style="height: 66vh; overflow: auto;padding-bottom: 0;">
        <div ng-if="!showGraph">
          <div class="row zero-padding">
            <div class="col-md-12">
              <textarea ng-if="currentNode.description.definition" ng-disabled="true" ng-model="currentNode.description.definition" rows="4" cols="40" style="border:none;width:100%;padding:10px;">

              </textarea>
            </div>
          </div>
          <br />
          <div class="row zero-padding">
            <div class="col-md-2" ng-repeat="(k, v) in nodeDetails">
              <div class="panel panel-default" ng-if="k==='Related Concept'">
                <div class="panel-heading">{{k}}</div>
                <ul class="list-group" style="max-height: 40vh; overflow: auto;">
                  <li class="list-group-item pointer text-primary" ng-repeat="o in v" ng-click="getComponentsByConceptName(o.name)">{{o.name}}</li>
                </ul>
              </div>
              <div class="panel panel-default" ng-if="k!='Related Concept'">
                <div class="panel-heading">{{k}}</div>
                <ul class="list-group" style="max-height: 40vh; overflow: auto;">
                  <li class="list-group-item" ng-repeat="o in v">
                    <span tooltip='"title":"View Checklist", "placement":"right"' class="badge pointer" ng-click="getCheckList(currentNode.name, k, o.name)">?</span>
                    {{o.name}}
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
        <vis-graph ng-if="showGraph" data="graphData" options="visOptions"></vis-graph>
      </div>
      <div style="height:5vh;position:absolute;right:10px;bottom:70px;" ng-if="showGraph">
        <div class="legend">
          <div class="arrow concept"></div>
          <div class="bubble-title">Concept</div>
          <div class="arrow report"></div>
          <div class="bubble-title">Report</div>
          <div class="arrow policy"></div>
          <div class="bubble-title">Policy</div>
          <div class="arrow person"></div>
          <div class="bubble-title">Person</div>
          <div class="arrow model"></div>
          <div class="bubble-title">Model</div>
          <div class="arrow committee"></div>
          <div class="bubble-title">Committee</div>
          <div class="arrow information"></div>
          <div class="bubble-title">Information</div>
          <div class="arrow system"></div>
          <div class="bubble-title">Information</div>
          <div class="arrow paragraph"></div>
          <div class="bubble-title">System</div>
          <div class="arrow data"></div>
          <div class="bubble-title">Data Element</div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="definitionViewer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">{{currentGraphNode.name}}</h4>
      </div>
      <div class="modal-body">
        <textarea ng-disabled="true" ng-model="currentGraphNode.desc.definition" rows="10" cols="40" style="border:none;width:100%;">

        </textarea>
        <br />
        <a class="pointer" ng-if="currentGraphNode.desc.definitionlink" ng-click="viewDefinitionLink()">Read More...</a>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="closeDsViewer()">Cancel</button>
      </div>
    </div>
  </div>
</div>
<div class="row-fluid" style="height:46%;margin-bottom:10px;">
  <div class="col-sm-3 max-height zero-padding"> 
    <div class="panel panel-default max-height panel-3d">
      <div class="panel-heading" style="background: #fff;"><b>Subject</b>
        <div class="right-inner-addon" style="display:inline-block;width:50%;margin-left:10px;">
            <i class="glyphicon glyphicon-search"></i>
            <input type="search" class="form-control" placeholder="Search" ng-model="searchRule" />
        </div>
        <span tooltip='"title":"Expand"' class="glyphicon glyphicon-fullscreen pull-right icon-sm" style="top: 8px;" ng-click="expandRegulation()"></span>
      </div>
      <div class="panel-body zero-padding" style="height:81%; overflow:auto;">
        <div class="col-md-6 zero-padding" ng-repeat="rule in rules | filter: searchRule">
          <div class="chip">
            <div class="chip-image" ng-click="exploreRule(rule)">
              <div ng-class="{ribbon:rule.isSelected}"></div>
              <div class="ellipsis-text" style="width:5vw" tooltip='"title":"{{rule.name}}"'>
                {{rule.name}}
              </div>
            </div>
            <div class="chip-content">
              <div ng-click="viewInfo(rule)"><i class="fa fa-info icon-sm"></i></div>
              <div ng-click="exploreRule(rule)"><i class="fa fa-play icon-sm"></i></div>
            </div>
          </div>
          <div ng-if="getCornerVisibility(rule)" class="corner-green"><i class="fa corner-icon" ng-class="{'fa-file-text-o': rule.isInformation, 'fa-book':rule.isPolicy, 'fa-user':rule.isPerson, 'fa-asterisk':rule.isModel, 'fa-users':rule.isCommittee, 'fa-clipboard':rule.isReport, 'fa-cog': rule.isSystem, 'fa-database': rule.isData}"></i></div>
        </div>

      </div>
    </div>
  </div>
  <div class="col-sm-9 max-height zero-padding">
    <div class="panel panel-default max-height panel-3d" style="background:#eee;">
      <div class="panel-heading" style="background: #fff;"><b>Connected Concepts</b>
        <span tooltip='"title":"Expand"' class="glyphicon glyphicon-fullscreen pull-right icon-sm" style="top: 8px;margin-left:10px;" ng-click="expandConcept()"></span>
        <i ng-if="selectedConceptNodeName.des" class="fa fa-info icon-sm pull-right" style="position:relative;top: 8px;margin-left:10px;" ng-click="viewInfo()"></i>
        <div ng-if="selectedConceptNodeName" class="pull-right" style="position:relative;top:6px;"><span class="badge label label-success">{{selectedConceptNodeName.name}}</span></div>
        <div class="right-inner-addon" style="display:inline-block;width:30%;margin-left:10px;">
            <i class="glyphicon glyphicon-search"></i>
            <input type="search" class="form-control" placeholder="Search" ng-model="searchText" ng-enter="searchNode()" />
        </div>
      </div>
      <div class="panel-body zero-padding" viz-graph ng-model="graphData" style="height:80%;background:#eee;"></div>
    </div>
  </div>        
</div>
<div class="row-fluid" style="height:46%;">
  <div class="col-xs-9 max-height zero-padding" style="">
    <div class="panel panel-default max-height panel-3d" style="margin-bottom:0;">
        <div class="panel-heading" style="background: #fff;height: 54px;"><b style="top:8px;position:relative;">Connected Glossary Sets</b>
        </div>
        <div class="panel-body" style="height:81%; overflow:auto;">
          <div class="col-sm-4" style="padding: 0 5px;" ng-repeat="(key, value) in glossarySets">
            <div class="panel panel-default" style="margin-bottom:0;">
              <div class="panel-heading" style="background: #eee;"><b>{{key}}</b>
                <div class="right-inner-addon" style="display:inline-block;margin-left:10px;">
                    <i class="glyphicon glyphicon-search"></i>
                    <input type="search" class="form-control" placeholder="Search" ng-model="searchGlossary" />
                </div>
                <span tooltip='"title":"Expand"' class="glyphicon glyphicon-fullscreen pull-right icon-sm" style="top: 8px;" ng-click="expandGlossarySet(key, value)"></span>
              </div>
              <div class="panel-body zero-padding" style="height:20vh; overflow:auto;">
                <div class="col-md-6 zero-padding" ng-repeat="glossary in value | filter: searchGlossary">
                  <!-- <div class="well chip ellipsis-text" ng-click="exploreGlossary(glossary, $event)" tooltip='"title":"{{glossary.name}}"'>{{glossary.name}}</div> -->
                  <div class="chip">
                    <div class="chip-image" ng-click="exploreGlossary(glossary, glossarySets)">
                      <div ng-class="{ribbon:glossary.isSelected}"></div>
                      <div class="ellipsis-text" style="width:5vw" tooltip='"title":"{{glossary.name}}"'>
                        {{glossary.name}}
                      </div>
                    </div>
                    <div class="chip-content">
                      <div ng-click="viewInfo(glossary)"><i class="fa fa-info icon-sm"></i></div>
                      <div ng-click="exploreGlossary(glossary, glossarySets)"><i class="fa fa-play icon-sm"></i></div>
                    </div>
                    <div ng-if="glossary.isReport" class="corner-green"><i class="fa fa-file-text-o corner-icon"></i></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
  </div>
  <div class="col-sm-3 max-height zero-padding">
    <div class="panel panel-default max-height panel-3d" style="margin-bottom:0;">
      <div class="panel-heading" style="background: #fff;"><b>Connected Tables</b>
        <div class="right-inner-addon" style="display:inline-block;width:44%;margin-left:10px;">
            <i class="glyphicon glyphicon-search"></i>
            <input type="search" class="form-control" placeholder="Search" ng-model="searchDb" />
        </div>
        <span tooltip='"title":"Expand"' class="glyphicon glyphicon-fullscreen pull-right icon-sm" style="top: 8px;" ng-click="expandConnectedTable()"></span>
      </div>
      <div class="panel-body zero-padding" style="overflow:auto;height:81%;">
        <table class="table table-striped table-condensed">
          <thead>
            <th></th><th>Database</th><th>Table</th><th>column</th><th><span ng-if="selectedDbCfgs.length > 0" class="glyphicon glyphicon-eye-open" ng-click="selectFilters()"></span></th>
          </thead>
          <tbody>
            <tr ng-repeat="dbCfg in connectedTables | filter: searchDb">
              <td><input type="checkbox" ng-model="dbCfg.isSelected" ng-change="selectDbCfg(dbCfg)"></td>
              <td>{{dbCfg.dbname}}</td>
              <td>{{dbCfg.table}}</td>
              <td>{{dbCfg.column}}</td>
              <td><span class="glyphicon glyphicon-play pull-right" ng-click="exploreDB(dbCfg)"></span></td>
            </tr>
          </tbody>
        </table>
        <span class="glyphicon glyphicon-refresh sticky-icon" style="top:88%;right:3%;" ng-click="initialize()"></span>
      </div> 
    </div> 
  </div>  
</div>

<div class="modal fade bs-example-modal-lg" id="expandedViewModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg" style="width:90%;">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel" style="display:inline-block;">{{modalHead}}</h4>
        <div class="right-inner-addon" style="display:inline-block;width:30%;margin-left:10px;">
            <i class="glyphicon glyphicon-search"></i>
            <input type="search" class="form-control" placeholder="Search" ng-model="searchText" />
        </div>
      </div>
      <div class="modal-body row-fluid" style="height:68vh;overflow:auto;">

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">{{modalHead}}</h4>
      </div>
      <div class="modal-body row-fluid" style="height:30vh;overflow:auto;">
        {{itemInfo}}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="dsViewer" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">{{modalHead}}</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label>Select a datasource:</label>
          <select ng-model="selDs" ng-options="ds.name as ds.name for ds in datasources" class="form-control"></select>
        </div>
        <div class="form-group">
          <label>Filter clause:</label>
          <textarea ng-model="queryWhereClause" class="form-control" rows="5"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-default" ng-disabled="!selDs" ng-click="viewDataOfSelectedColumns()">Submit</button>
      </div>
    </div>
  </div>
</div>
PREFIX mpb-root-main: <http://www.mindparabole.com/ontology/finance/MPBRoot_Main#> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> 
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX cit:<http://www.mindparabole.com/ontology/finance/Bank_Main#>
PREFIX CDE:<http://www.mindparabole.com/ontology/finance/CDE/CriticalDataElements#>
PREFIX mt:<http://www.mindparabole.com/meeting#>
PREFIX pb:<http://www.mindparabole.com/ontology/finance/Parabole-Model#>
PREFIX mpb-fin-main-ccar-14q:<http://www.mindparabole.com/ontology/finance/FRY-14Q_Main#>
PREFIX mpb-root-main-crm:<http://www.mindparabole.com/ontology/finance/CreditRiskManagement_Main#>
PREFIX mpb-fin-main-ccar:<http://www.mindparabole.com/ontology/finance/CCAR_Main#>
PREFIX Y14DB_Main:<http://www.mindparabole.com/ontology/finance/Y14DB_Main#>
PREFIX xsd:<http://www.w3.org/2001/XMLSchema#>
PREFIX Customer:<http://www.mindparabole.com/ontology/finance/Customer#>
SELECT ?priority ?env ?func ?id ?drsummary ?status ?Submit ?Comp ?Rev ?Tar ?App ?num


WHERE{
?dr rdf:type pb:Data_Request.
?dr rdfs:label ?drname.
?dr pb:DataReqpriority ?priority.
?dr rdfs:comment ?drsummary.
?dr pb:DRstatus ?status.
?dr pb:DRid  ?id.
?dr  pb:DRfunctionality ?func.
?dr pb:DRenvironment  ?env.
?dr pb:DRsubmittedon ?Date1.
BIND(replace(?Date1,"_","-") AS ?Submit)
?dr pb:DRcompletedon ?date2.
BIND(replace(?date2,"_","-") AS ?Comp)
?dr pb:DRreviewedon ?date3. 
BIND(replace(?date3,"_","-") AS ?Rev)
?dr pb:DRtargetdateon ?date4.
BIND(replace(?date4,"_","-") AS ?Tar)
?dr pb:DRapprovedon ?date5.
BIND(replace(?date5,"_","-") AS ?App)
BIND(xsd:date(now())AS ?Now)
BIND(xsd:date(?Tar) AS ?test)

BIND(day(?test)-day(?Now) AS ?num)

}